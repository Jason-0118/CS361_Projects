var intro = [{
    name: "Tesla Model 3",
    url_img: "https://media.ed.edmunds-media.com/tesla/model-3/2018/oem/2018_tesla_model-3_sedan_performance_fq_oem_1_815.jpg",
    pros: ["Class-leading range, performance and handling", "Comfortable seating and lots of interior room", "Access to Tesla's prolific Supercharger fast-charging stations"],
    cons: ["Touchscreen interface can lead to driver distraction", "No Android Auto or Apple CarPlay support"],
    news: ["Increased range and efficiency", "New interior and exterior trim", "Standard integrated wireless phone charger", "Part of the first Model 3 generation introduced for 2017"],
    rate: {
        overall: "8.4/10",
        drive: "9.0",
        comfort: "8.5",
        int: "9.0",
        tech: "9.0",
        storage: "8.0",
        range: "8.0",
        value: "8.0"
    }
},
{
    name: "Tesla Model S",
    url_img: "https://media.ed.edmunds-media.com/tesla/model-s/2021/oem/2021_tesla_model-s_sedan_plaid_fq_oem_1_815.jpg",
    pros: ["Class-leading range, performance and handling", "Comfortable seating and lots of interior room", "Access to Tesla's prolific Supercharger fast-charging stations"],
    cons: ["Touchscreen interface can lead to driver distraction", "No Android Auto or Apple CarPlay support"],
    news: ["Increased range and efficiency", "New interior and exterior trim", "Standard integrated wireless phone charger", "Part of the first Model 3 generation introduced for 2017"],
    rate: {
        overall: "8.4/10",
        drive: "9.0",
        comfort: "8.5",
        int: "9.0",
        tech: "9.0",
        storage: "8.0",
        range: "8.0",
        value: "8.0"
    }
},
{
    name: "Tesla Model X",
    url_img: "https://media.ed.edmunds-media.com/tesla/model-x/2021/oem/2021_tesla_model-x_4dr-suv_plaid_fq_oem_1_815.jpg",
    pros: ["Class-leading range, performance and handling", "Comfortable seating and lots of interior room", "Access to Tesla's prolific Supercharger fast-charging stations"],
    cons: ["Touchscreen interface can lead to driver distraction", "No Android Auto or Apple CarPlay support"],
    news: ["Increased range and efficiency", "New interior and exterior trim", "Standard integrated wireless phone charger", "Part of the first Model 3 generation introduced for 2017"],
    rate: {
        overall: "8.4/10",
        drive: "9.0",
        comfort: "8.5",
        int: "9.0",
        tech: "9.0",
        storage: "8.0",
        range: "8.0",
        value: "8.0"
    }
},
{
    name: "Tesla Model Y",
    url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg",
    pros: ["Class-leading range, performance and handling", "Comfortable seating and lots of interior room", "Access to Tesla's prolific Supercharger fast-charging stations"],
    cons: ["Touchscreen interface can lead to driver distraction", "No Android Auto or Apple CarPlay support"],
    news: ["Increased range and efficiency", "New interior and exterior trim", "Standard integrated wireless phone charger", "Part of the first Model 3 generation introduced for 2017"],
    rate: {
        overall: "8.4/10",
        drive: "9.0",
        comfort: "8.5",
        int: "9.0",
        tech: "9.0",
        storage: "8.0",
        range: "8.0",
        value: "8.0"
    }
}];

var vehicle_list = [{
    vehicle_summary: {
        name: "2018 Tesla Model 3",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-3/2018/oem/2018_tesla_model-3_sedan_performance_fq_oem_1_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model 3",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "12,311 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2020 Tesla Model 3",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-x/2021/oem/2021_tesla_model-x_4dr-suv_plaid_fq_oem_1_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model S",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model S",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model S",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model X",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model X",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
},
{
    vehicle_summary: {
        name: "2016 Tesla Model Y",
        type: "Mid Range 4dr Sedan (electric DD)",
        mileage: "31,772 miles",
        report: "No Reported Accidents",
        title: "Clean Title",
        url_img: "https://media.ed.edmunds-media.com/tesla/model-y/2020/oem/2020_tesla_model-y_4dr-suv_performance_fq_oem_2_815.jpg"
    },
    feature: {
        CC: ["Dual front impact airbags", "Heated Front Bucket Seats", "Memory seat", "Navigation System"],
        Entertainment: ["Auxiliary Audio Input", "Bluetooth Connection", "WiFI Hotspot"],
        Safty: ["Blind Spot Monitor", "Break assist", "Electronic Stability Contro", "Low Departure Warining"],
        EE: ["Auto High-beam Headlights", "Headted door mirros"]
    }
}];

// connect to mongoose DB
const credentials = require("./dbCredentials.js");
const mongoose = require('mongoose');
mongoose.connect(credentials.connection_string, {
    useNewUrlParser: true,
    useUnifiedTopology: true,
});

//load modeals
const Vehicle = require("./models/vehicle");
const Intro = require("./models/intro");


//load all
async function loadAllData() {
    await Intro.deleteMany();
    await Vehicle.deleteMany();

    const introRecords = []; //3 s x y
    for (let item of intro) {
        const newIntro = new Intro(item);
        newIntro.name = item.name;
        newIntro.url_img = item.url_img;
        newIntro.pros = item.pros;
        newIntro.cons = item.cons;
        newIntro.new = item.news;
        newIntro.rate = Object.assign(item.rate, newIntro.rate);
        introRecords.push(newIntro);
        await newIntro.save();
    }
    console.log("Done loading intro info");


    for (let i = 0; i < vehicle_list.length; i++) {
        const newVehicle = new Vehicle(vehicle_list[i]);
        newVehicle.name = vehicle_list[i].vehicle_summary.name;
        newVehicle.type = vehicle_list[i].vehicle_summary.type;
        newVehicle.mileage = vehicle_list[i].vehicle_summary.mileage;
        newVehicle.report = vehicle_list[i].vehicle_summary.report;
        newVehicle.title = vehicle_list[i].vehicle_summary.title;
        newVehicle.url_img = vehicle_list[i].vehicle_summary.url_img;

        newVehicle.CC = vehicle_list[i].feature.CC;
        newVehicle.Entertainment = vehicle_list[i].feature.Entertainment;
        newVehicle.Safty = vehicle_list[i].feature.Safty;
        newVehicle.EE = vehicle_list[i].feature.EE;
        if (newVehicle.name.includes("Model 3"))
            newVehicle.introID = introRecords[0];
        if (newVehicle.name.includes("Model S"))
            newVehicle.introID = introRecords[1];
        if (newVehicle.name.includes("Model X"))
            newVehicle.introID = introRecords[2];
        if (newVehicle.name.includes("Model Y"))
            newVehicle.introID = introRecords[3];
        await newVehicle.save();
    }

    console.log("Done loading vehicle info");
    console.log("Done loading all datas");
    mongoose.connection.close();
}



loadAllData();